import { Box, useTheme, Typography } from '@mui/material';
import {
    Brush, Line, LineChart, ResponsiveContainer, Tooltip, XAxis,
    ReferenceLine,
    Label,
    YAxis
} from "recharts";
import { currencyFormat } from '../../../helpers/helpers';
import CustomizedAxisTick from './CustomizedAxisTick';
import { fetchTerraUSDPriceData } from '../../../helpers/sm-chart-data-fetcher';
import moment from "moment";

interface ChartData {
    date: string;
    price: number;
    peg: number;
}

let data = [
    {
        "date": "2022-05-05T22:11:02.412Z",
        "price": 1.0020004139327232,
        "peg": 1
    },
    {
        "date": "2022-05-05T23:10:26.319Z",
        "price": 1.0013101892032923,
        "peg": 1
    },
    {
        "date": "2022-05-06T00:11:35.479Z",
        "price": 0.9994867758004979,
        "peg": 1
    },
    {
        "date": "2022-05-06T01:03:22.590Z",
        "price": 1.0038086400962862,
        "peg": 1
    },
    {
        "date": "2022-05-06T02:01:58.499Z",
        "price": 1.0007537373324442,
        "peg": 1
    },
    {
        "date": "2022-05-06T03:03:47.754Z",
        "price": 1.0006660071140603,
        "peg": 1
    },
    {
        "date": "2022-05-06T04:03:03.953Z",
        "price": 1.001564817993224,
        "peg": 1
    },
    {
        "date": "2022-05-06T05:03:37.120Z",
        "price": 1.0007482753278762,
        "peg": 1
    },
    {
        "date": "2022-05-06T06:03:37.598Z",
        "price": 1.0017863954932296,
        "peg": 1
    },
    {
        "date": "2022-05-06T07:02:58.130Z",
        "price": 0.9991447936902913,
        "peg": 1
    },
    {
        "date": "2022-05-06T08:02:46.312Z",
        "price": 0.997432922307133,
        "peg": 1
    },
    {
        "date": "2022-05-06T09:04:13.081Z",
        "price": 1.0012105061347183,
        "peg": 1
    },
    {
        "date": "2022-05-06T10:03:30.332Z",
        "price": 1.0010471122314146,
        "peg": 1
    },
    {
        "date": "2022-05-06T11:03:28.989Z",
        "price": 1.0014113888732605,
        "peg": 1
    },
    {
        "date": "2022-05-06T12:03:57.099Z",
        "price": 1.0011066678810678,
        "peg": 1
    },
    {
        "date": "2022-05-06T13:00:30.292Z",
        "price": 0.9996309281931328,
        "peg": 1
    },
    {
        "date": "2022-05-06T14:03:37.596Z",
        "price": 0.9991570125899059,
        "peg": 1
    },
    {
        "date": "2022-05-06T15:02:47.668Z",
        "price": 1.0013828110328309,
        "peg": 1
    },
    {
        "date": "2022-05-06T16:02:00.169Z",
        "price": 1.0009294973398695,
        "peg": 1
    },
    {
        "date": "2022-05-06T17:02:08.828Z",
        "price": 1.0022127774555132,
        "peg": 1
    },
    {
        "date": "2022-05-06T18:02:09.412Z",
        "price": 1.0018056423863329,
        "peg": 1
    },
    {
        "date": "2022-05-06T19:02:01.705Z",
        "price": 1.0004330052949015,
        "peg": 1
    },
    {
        "date": "2022-05-06T20:03:19.394Z",
        "price": 0.9993534265213377,
        "peg": 1
    },
    {
        "date": "2022-05-06T21:04:01.759Z",
        "price": 1.0007789910068152,
        "peg": 1
    },
    {
        "date": "2022-05-06T22:04:14.444Z",
        "price": 1.0014567310135587,
        "peg": 1
    },
    {
        "date": "2022-05-06T23:04:06.521Z",
        "price": 0.9998421989412851,
        "peg": 1
    },
    {
        "date": "2022-05-07T00:04:10.998Z",
        "price": 1.0001710060728073,
        "peg": 1
    },
    {
        "date": "2022-05-07T01:05:06.128Z",
        "price": 1.002336524283883,
        "peg": 1
    },
    {
        "date": "2022-05-07T02:03:08.848Z",
        "price": 1.0033944722420316,
        "peg": 1
    },
    {
        "date": "2022-05-07T03:01:50.058Z",
        "price": 1.000352462083908,
        "peg": 1
    },
    {
        "date": "2022-05-07T04:02:02.230Z",
        "price": 0.9996350025444607,
        "peg": 1
    },
    {
        "date": "2022-05-07T05:03:28.357Z",
        "price": 1.0008031261306856,
        "peg": 1
    },
    {
        "date": "2022-05-07T06:03:38.368Z",
        "price": 1.0016754367676277,
        "peg": 1
    },
    {
        "date": "2022-05-07T07:01:37.924Z",
        "price": 1.0014511157862518,
        "peg": 1
    },
    {
        "date": "2022-05-07T08:04:04.546Z",
        "price": 1.0014416329884737,
        "peg": 1
    },
    {
        "date": "2022-05-07T09:05:50.450Z",
        "price": 0.9994493177764308,
        "peg": 1
    },
    {
        "date": "2022-05-07T10:03:25.874Z",
        "price": 1.0015180232045506,
        "peg": 1
    },
    {
        "date": "2022-05-07T11:02:27.881Z",
        "price": 1.0024998234383562,
        "peg": 1
    },
    {
        "date": "2022-05-07T12:01:45.050Z",
        "price": 0.9993762179044017,
        "peg": 1
    },
    {
        "date": "2022-05-07T13:03:23.406Z",
        "price": 1.000521954752433,
        "peg": 1
    },
    {
        "date": "2022-05-07T14:02:16.554Z",
        "price": 0.9997961692151885,
        "peg": 1
    },
    {
        "date": "2022-05-07T15:02:20.104Z",
        "price": 0.9991931475571727,
        "peg": 1
    },
    {
        "date": "2022-05-07T16:08:01.874Z",
        "price": 0.999908576593991,
        "peg": 1
    },
    {
        "date": "2022-05-07T17:08:02.672Z",
        "price": 1.0005662724648539,
        "peg": 1
    },
    {
        "date": "2022-05-07T18:08:12.231Z",
        "price": 1.0006264039275468,
        "peg": 1
    },
    {
        "date": "2022-05-07T19:05:30.729Z",
        "price": 0.999839546724798,
        "peg": 1
    },
    {
        "date": "2022-05-07T20:05:39.081Z",
        "price": 0.9993598697133933,
        "peg": 1
    },
    {
        "date": "2022-05-07T21:02:10.608Z",
        "price": 0.9989995504465574,
        "peg": 1
    },
    {
        "date": "2022-05-07T22:02:30.938Z",
        "price": 0.9967140466929069,
        "peg": 1
    },
    {
        "date": "2022-05-07T23:03:40.594Z",
        "price": 0.9961392021123896,
        "peg": 1
    },
    {
        "date": "2022-05-08T00:04:21.845Z",
        "price": 0.9952323086959283,
        "peg": 1
    },
    {
        "date": "2022-05-08T01:00:29.126Z",
        "price": 0.9970851058626815,
        "peg": 1
    },
    {
        "date": "2022-05-08T02:00:42.217Z",
        "price": 0.9911790657712487,
        "peg": 1
    },
    {
        "date": "2022-05-08T03:00:13.370Z",
        "price": 0.9949627031269573,
        "peg": 1
    },
    {
        "date": "2022-05-08T04:01:44.574Z",
        "price": 0.9964697897046075,
        "peg": 1
    },
    {
        "date": "2022-05-08T05:01:25.478Z",
        "price": 0.9977499394919063,
        "peg": 1
    },
    {
        "date": "2022-05-08T06:00:25.896Z",
        "price": 0.9980532748887934,
        "peg": 1
    },
    {
        "date": "2022-05-08T07:02:19.950Z",
        "price": 0.9977440340353964,
        "peg": 1
    },
    {
        "date": "2022-05-08T08:01:58.882Z",
        "price": 0.9967185008562933,
        "peg": 1
    },
    {
        "date": "2022-05-08T09:01:48.486Z",
        "price": 0.9956678957611703,
        "peg": 1
    },
    {
        "date": "2022-05-08T10:01:47.700Z",
        "price": 0.9961136345307067,
        "peg": 1
    },
    {
        "date": "2022-05-08T11:02:00.518Z",
        "price": 0.9947599448181331,
        "peg": 1
    },
    {
        "date": "2022-05-08T12:02:02.621Z",
        "price": 0.9950234165345025,
        "peg": 1
    },
    {
        "date": "2022-05-08T13:01:38.033Z",
        "price": 0.9955630864193967,
        "peg": 1
    },
    {
        "date": "2022-05-08T14:01:10.979Z",
        "price": 0.9924355797627635,
        "peg": 1
    },
    {
        "date": "2022-05-08T15:01:38.917Z",
        "price": 0.99584250983742,
        "peg": 1
    },
    {
        "date": "2022-05-08T16:01:13.476Z",
        "price": 0.9980461082217308,
        "peg": 1
    },
    {
        "date": "2022-05-08T17:00:35.381Z",
        "price": 0.998085243512765,
        "peg": 1
    },
    {
        "date": "2022-05-08T18:00:14.843Z",
        "price": 0.9986109150032556,
        "peg": 1
    },
    {
        "date": "2022-05-08T19:01:44.108Z",
        "price": 0.996057572480363,
        "peg": 1
    },
    {
        "date": "2022-05-08T20:02:09.495Z",
        "price": 0.9962320264634629,
        "peg": 1
    },
    {
        "date": "2022-05-08T21:01:39.815Z",
        "price": 0.993751940236118,
        "peg": 1
    },
    {
        "date": "2022-05-08T22:01:25.779Z",
        "price": 0.9974181938911877,
        "peg": 1
    },
    {
        "date": "2022-05-08T23:02:11.271Z",
        "price": 0.996330270883338,
        "peg": 1
    },
    {
        "date": "2022-05-09T00:02:12.573Z",
        "price": 0.9975534066952587,
        "peg": 1
    },
    {
        "date": "2022-05-09T01:00:24.355Z",
        "price": 0.9957247234083165,
        "peg": 1
    },
    {
        "date": "2022-05-09T02:01:10.042Z",
        "price": 0.9955464907597162,
        "peg": 1
    },
    {
        "date": "2022-05-09T03:00:59.388Z",
        "price": 0.9933743454841855,
        "peg": 1
    },
    {
        "date": "2022-05-09T04:00:41.251Z",
        "price": 0.9975026170409329,
        "peg": 1
    },
    {
        "date": "2022-05-09T05:00:48.184Z",
        "price": 0.9957898038169531,
        "peg": 1
    },
    {
        "date": "2022-05-09T06:01:04.131Z",
        "price": 0.9959639469587748,
        "peg": 1
    },
    {
        "date": "2022-05-09T07:01:28.513Z",
        "price": 0.9962734243925448,
        "peg": 1
    },
    {
        "date": "2022-05-09T08:02:34.057Z",
        "price": 0.9965600937000829,
        "peg": 1
    },
    {
        "date": "2022-05-09T09:01:12.797Z",
        "price": 0.9994137947674123,
        "peg": 1
    },
    {
        "date": "2022-05-09T10:00:19.374Z",
        "price": 0.9937125115543513,
        "peg": 1
    },
    {
        "date": "2022-05-09T11:03:11.223Z",
        "price": 0.9965661702904076,
        "peg": 1
    },
    {
        "date": "2022-05-09T12:03:20.980Z",
        "price": 0.9981710434565979,
        "peg": 1
    },
    {
        "date": "2022-05-09T13:00:23.611Z",
        "price": 0.9954467721654042,
        "peg": 1
    },
    {
        "date": "2022-05-09T14:03:11.556Z",
        "price": 0.9939689725214997,
        "peg": 1
    },
    {
        "date": "2022-05-09T15:01:32.524Z",
        "price": 0.9902719245182923,
        "peg": 1
    },
    {
        "date": "2022-05-09T16:01:24.748Z",
        "price": 0.9859995120693884,
        "peg": 1
    },
    {
        "date": "2022-05-09T17:03:13.866Z",
        "price": 0.9798727479524799,
        "peg": 1
    },
    {
        "date": "2022-05-09T18:02:54.077Z",
        "price": 0.980369604535309,
        "peg": 1
    },
    {
        "date": "2022-05-09T19:01:49.153Z",
        "price": 0.9378962550640723,
        "peg": 1
    },
    {
        "date": "2022-05-09T20:00:19.266Z",
        "price": 0.9471165243980928,
        "peg": 1
    },
    {
        "date": "2022-05-09T21:00:32.442Z",
        "price": 0.9449119423703386,
        "peg": 1
    },
    {
        "date": "2022-05-09T22:00:02.602Z",
        "price": 0.9208460568879487,
        "peg": 1
    },
    {
        "date": "2022-05-09T23:01:58.108Z",
        "price": 0.886084784295161,
        "peg": 1
    },
    {
        "date": "2022-05-10T00:00:46.316Z",
        "price": 0.7987539574633086,
        "peg": 1
    },
    {
        "date": "2022-05-10T01:01:17.968Z",
        "price": 0.7657171606267615,
        "peg": 1
    },
    {
        "date": "2022-05-10T02:00:28.727Z",
        "price": 0.8039396544591416,
        "peg": 1
    },
    {
        "date": "2022-05-10T03:02:21.758Z",
        "price": 0.7479332405333863,
        "peg": 1
    },
    {
        "date": "2022-05-10T04:00:23.971Z",
        "price": 0.7570806392284458,
        "peg": 1
    },
    {
        "date": "2022-05-10T05:00:24.520Z",
        "price": 0.8405108757060727,
        "peg": 1
    },
    {
        "date": "2022-05-10T06:01:38.732Z",
        "price": 0.8889740043754575,
        "peg": 1
    },
    {
        "date": "2022-05-10T07:02:06.715Z",
        "price": 0.9318006470728739,
        "peg": 1
    },
    {
        "date": "2022-05-10T08:00:34.207Z",
        "price": 0.8980996620578715,
        "peg": 1
    },
    {
        "date": "2022-05-10T09:01:45.423Z",
        "price": 0.9216084439395079,
        "peg": 1
    },
    {
        "date": "2022-05-10T10:01:47.353Z",
        "price": 0.8990410590694684,
        "peg": 1
    },
    {
        "date": "2022-05-10T11:03:32.160Z",
        "price": 0.9016279831052818,
        "peg": 1
    },
    {
        "date": "2022-05-10T12:01:42.265Z",
        "price": 0.9185484524045686,
        "peg": 1
    },
    {
        "date": "2022-05-10T13:02:23.347Z",
        "price": 0.9250805343093249,
        "peg": 1
    },
    {
        "date": "2022-05-10T14:01:24.259Z",
        "price": 0.9266921656601682,
        "peg": 1
    },
    {
        "date": "2022-05-10T15:00:19.790Z",
        "price": 0.9162151822451893,
        "peg": 1
    },
    {
        "date": "2022-05-10T16:02:09.967Z",
        "price": 0.9055795468689085,
        "peg": 1
    },
    {
        "date": "2022-05-10T17:01:50.122Z",
        "price": 0.9066956664779119,
        "peg": 1
    },
    {
        "date": "2022-05-10T18:01:32.495Z",
        "price": 0.9169489066958305,
        "peg": 1
    },
    {
        "date": "2022-05-10T19:01:26.647Z",
        "price": 0.916343379699757,
        "peg": 1
    },
    {
        "date": "2022-05-10T20:00:10.139Z",
        "price": 0.9046123431927204,
        "peg": 1
    },
    {
        "date": "2022-05-10T21:02:28.646Z",
        "price": 0.9098842591965394,
        "peg": 1
    },
    {
        "date": "2022-05-10T22:03:47.529Z",
        "price": 0.7789013708351619,
        "peg": 1
    },
    {
        "date": "2022-05-10T23:00:12.094Z",
        "price": 0.6977845260335558,
        "peg": 1
    },
    {
        "date": "2022-05-11T00:02:21.029Z",
        "price": 0.7850537892272114,
        "peg": 1
    },
    {
        "date": "2022-05-11T01:07:41.303Z",
        "price": 0.8058993947760158,
        "peg": 1
    },
    {
        "date": "2022-05-11T02:01:24.620Z",
        "price": 0.8023324855292534,
        "peg": 1
    },
    {
        "date": "2022-05-11T03:02:16.547Z",
        "price": 0.8447492597622316,
        "peg": 1
    },
    {
        "date": "2022-05-11T04:03:01.445Z",
        "price": 0.8301992392771745,
        "peg": 1
    },
    {
        "date": "2022-05-11T05:00:19.426Z",
        "price": 0.7898019920192034,
        "peg": 1
    },
    {
        "date": "2022-05-11T06:01:29.957Z",
        "price": 0.7206237104146466,
        "peg": 1
    },
    {
        "date": "2022-05-11T07:02:16.018Z",
        "price": 0.5381587476516673,
        "peg": 1
    },
    {
        "date": "2022-05-11T08:00:32.337Z",
        "price": 0.3323677989404075,
        "peg": 1
    },
    {
        "date": "2022-05-11T09:02:48.913Z",
        "price": 0.5008290633650904,
        "peg": 1
    },
    {
        "date": "2022-05-11T10:00:50.538Z",
        "price": 0.47397182229627355,
        "peg": 1
    },
    {
        "date": "2022-05-11T11:03:41.090Z",
        "price": 0.4937395414111851,
        "peg": 1
    },
    {
        "date": "2022-05-11T12:02:49.350Z",
        "price": 0.4301462066096575,
        "peg": 1
    },
    {
        "date": "2022-05-11T13:03:00.791Z",
        "price": 0.30070066739039203,
        "peg": 1
    },
    {
        "date": "2022-05-11T14:03:37.276Z",
        "price": 0.4792049183799081,
        "peg": 1
    },
    {
        "date": "2022-05-11T15:03:38.832Z",
        "price": 0.49376544746852,
        "peg": 1
    },
    {
        "date": "2022-05-11T16:08:34.529Z",
        "price": 0.5487314781056029,
        "peg": 1
    },
    {
        "date": "2022-05-11T17:10:04.988Z",
        "price": 0.6321565981945405,
        "peg": 1
    },
    {
        "date": "2022-05-11T18:04:10.879Z",
        "price": 0.6648905909374736,
        "peg": 1
    },
    {
        "date": "2022-05-11T19:13:40.462Z",
        "price": 0.6465781824427028,
        "peg": 1
    },
    {
        "date": "2022-05-11T20:01:18.637Z",
        "price": 0.6619878920121811,
        "peg": 1
    },
    {
        "date": "2022-05-11T21:10:58.367Z",
        "price": 0.688464426895084,
        "peg": 1
    },
    {
        "date": "2022-05-11T22:02:07.200Z",
        "price": 0.7471034419273539,
        "peg": 1
    },
    {
        "date": "2022-05-11T23:01:56.118Z",
        "price": 0.7481196404930115,
        "peg": 1
    },
    {
        "date": "2022-05-12T00:13:36.354Z",
        "price": 0.7736507041723227,
        "peg": 1
    },
    {
        "date": "2022-05-12T01:13:55.883Z",
        "price": 0.8397265299405302,
        "peg": 1
    },
    {
        "date": "2022-05-12T02:11:51.759Z",
        "price": 0.7396598579710294,
        "peg": 1
    },
    {
        "date": "2022-05-12T03:00:07.040Z",
        "price": 0.7028898452177138,
        "peg": 1
    },
    {
        "date": "2022-05-12T04:02:29.668Z",
        "price": 0.7153377568568958,
        "peg": 1
    },
    {
        "date": "2022-05-12T05:07:38.129Z",
        "price": 0.6516653237390353,
        "peg": 1
    },
    {
        "date": "2022-05-12T06:00:41.122Z",
        "price": 0.5504175537542493,
        "peg": 1
    },
    {
        "date": "2022-05-12T07:02:22.710Z",
        "price": 0.5797682718020593,
        "peg": 1
    },
    {
        "date": "2022-05-12T08:01:23.007Z",
        "price": 0.606457012913795,
        "peg": 1
    },
    {
        "date": "2022-05-12T09:01:24.322Z",
        "price": 0.605656668249582,
        "peg": 1
    },
    {
        "date": "2022-05-12T10:00:34.485Z",
        "price": 0.48558782456417915,
        "peg": 1
    },
    {
        "date": "2022-05-12T11:00:18.644Z",
        "price": 0.47859870024498374,
        "peg": 1
    },
    {
        "date": "2022-05-12T12:01:54.811Z",
        "price": 0.5568115835988295,
        "peg": 1
    },
    {
        "date": "2022-05-12T13:01:46.338Z",
        "price": 0.6194602947437979,
        "peg": 1
    },
    {
        "date": "2022-05-12T14:00:56.537Z",
        "price": 0.6000682052465868,
        "peg": 1
    },
    {
        "date": "2022-05-12T15:02:05.308Z",
        "price": 0.4226589782517294,
        "peg": 1
    },
    {
        "date": "2022-05-12T16:01:55.145Z",
        "price": 0.38858291365765235,
        "peg": 1
    },
    {
        "date": "2022-05-12T17:01:36.940Z",
        "price": 0.3484449068527728,
        "peg": 1
    },
    {
        "date": "2022-05-12T18:04:32.752Z",
        "price": 0.3676803752168759,
        "peg": 1
    },
    {
        "date": "2022-05-12T19:01:47.085Z",
        "price": 0.3624497052339282,
        "peg": 1
    },
    {
        "date": "2022-05-12T20:01:57.617Z",
        "price": 0.36738351246600703,
        "peg": 1
    },
    {
        "date": "2022-05-12T21:01:50.182Z",
        "price": 0.417338776989346,
        "peg": 1
    },
    {
        "date": "2022-05-12T22:03:05.885Z",
        "price": 0.44576201380225944,
        "peg": 1
    },
    {
        "date": "2022-05-12T23:01:13.018Z",
        "price": 0.45686804345526516,
        "peg": 1
    },
    {
        "date": "2022-05-13T00:00:58.887Z",
        "price": 0.3701677778850415,
        "peg": 1
    },
    {
        "date": "2022-05-13T01:02:47.802Z",
        "price": 0.23088466318427278,
        "peg": 1
    },
    {
        "date": "2022-05-13T02:02:22.612Z",
        "price": 0.1524684839199381,
        "peg": 1
    },
    {
        "date": "2022-05-13T03:03:36.832Z",
        "price": 0.12503613376578349,
        "peg": 1
    },
    {
        "date": "2022-05-13T04:03:09.545Z",
        "price": 0.16887240114167365,
        "peg": 1
    },
    {
        "date": "2022-05-13T05:00:29.972Z",
        "price": 0.10386664220126669,
        "peg": 1
    },
    {
        "date": "2022-05-13T06:03:14.007Z",
        "price": 0.15708053291627444,
        "peg": 1
    },
    {
        "date": "2022-05-13T07:01:17.644Z",
        "price": 0.139431214019934,
        "peg": 1
    },
    {
        "date": "2022-05-13T08:03:01.588Z",
        "price": 0.15296304863648646,
        "peg": 1
    },
    {
        "date": "2022-05-13T09:01:17.931Z",
        "price": 0.14192039398947304,
        "peg": 1
    },
    {
        "date": "2022-05-13T10:02:13.716Z",
        "price": 0.11270661146978654,
        "peg": 1
    },
    {
        "date": "2022-05-13T11:02:59.952Z",
        "price": 0.08061995638779444,
        "peg": 1
    },
    {
        "date": "2022-05-13T12:01:41.790Z",
        "price": 0.0947019739558598,
        "peg": 1
    },
    {
        "date": "2022-05-13T13:00:23.759Z",
        "price": 0.10255978560187684,
        "peg": 1
    },
    {
        "date": "2022-05-13T14:02:05.812Z",
        "price": 0.09137447677761243,
        "peg": 1
    },
    {
        "date": "2022-05-13T15:02:56.168Z",
        "price": 0.150785449129276,
        "peg": 1
    },
    {
        "date": "2022-05-13T16:03:20.406Z",
        "price": 0.10161886402842212,
        "peg": 1
    },
    {
        "date": "2022-05-13T17:02:03.968Z",
        "price": 0.11469883707801364,
        "peg": 1
    },
    {
        "date": "2022-05-13T18:02:40.541Z",
        "price": 0.1400596745428093,
        "peg": 1
    },
    {
        "date": "2022-05-13T19:02:14.938Z",
        "price": 0.14798209407783824,
        "peg": 1
    },
    {
        "date": "2022-05-13T20:00:01.419Z",
        "price": 0.13485470600898244,
        "peg": 1
    },
    {
        "date": "2022-05-13T21:02:27.189Z",
        "price": 0.1235700625083575,
        "peg": 1
    }
]

const SocialPriceChart = (props: any) => {

    let theme = useTheme();

    let chartData: ChartData[] = data
        .map(({ date, price }) => {
            return {
                date: moment(date).format('DD/MM HH:00'),
                price: price || 0,
                peg: 1
            };
        });


    // let ustcPrices = await fetchTerraUSDPriceData();



    // let terraUSDPrice: [ChartData] = [
    //     {
    //         date: '07-05-2022',
    //     }
    // ]


    // const chartData: ChartData[] = prices
    //     .sort((a, b) => Date.parse(a.date) - (Date.parse(b.date)))
    //     // .slice(-180)
    //     .filter(item => item.date && item.price)
    //     .map(({ date, price }) => {
    //         return {
    //             date: date ? new Date(date).toLocaleDateString('en-GB', { day: '2-digit', month: '2-digit' }) : '',
    //             price: price || 0,
    //             peg: 1
    //         };
    //     });

    // chartData[chartData.length - 1] = { date: new Date().toLocaleDateString('en-GB', { day: '2-digit', month: '2-digit' }), price: props.token.current_price, peg: 1 };

    // const chartData: ChartData[] = [{

    // }]
    return (
        <Box
            sx={{
                display: 'flex',
                flexDirection: 'column',
                alignItems: 'center',
                // bgcolor: 'background.paper',
                borderRadius: '12px',
                boxShadow: 1,
                p: 2,
                mt: 2,
                mb: 2
            }}>
            {/* <Typography variant="h6" sx={{ p: 2 }}>TerraUSD price</Typography> */}
            <Box
                sx={(theme) => ({
                    width: '1',
                    mt: 2,
                    p: 1,
                })}>
                <ResponsiveContainer width="100%" height={700}>
                    <LineChart
                        data={chartData}
                    >
                        <XAxis
                            dataKey="date"
                            height={55}
                            tickMargin={2}
                            tickCount={0}
                            tick={false}
                            // tick={<CustomizedAxisTick stroke={theme.palette.text.primary} />}
                            stroke="white"
                            tickLine={false}
                            strokeWidth={0.5}
                        />
                        <YAxis
                            type="number"
                            tickMargin={15}
                            tickFormatter={tick => tick.toFixed(1)}
                            stroke="white"
                            strokeWidth={0.5}
                            ticks={[0, 0.2, 0.4, 0.6, 0.8, 1, 1.2]}
                            tickLine={false} />
                        {/* domain={([dataMin, dataMax]) => [dataMin - 0.05 < 0 ? 0 : dataMin - 0.05, dataMax + 0.05]} /> */}

                        <Tooltip contentStyle={{ backgroundColor: theme.palette.background.paper }}
                            formatter={(value: any, name: any) => {
                                return currencyFormat(value, 3);
                            }}
                        />

                        <Line
                            connectNulls
                            type="monotone"
                            dataKey="price"
                            strokeWidth={3}
                            dot={false}
                            stroke={theme.palette.secondary.main}
                        />

                        <Line
                            type="monotone"
                            dataKey="peg"
                            strokeDasharray="3 3"
                            dot={false}
                            activeDot={false}
                            stroke={theme.palette.text.secondary}
                        />

                        {/* <ReferenceLine x="07/05 22:00" opacity={1} stroke="white" strokeDasharray="3 3"  >
                        </ReferenceLine>
                        <ReferenceLine x="08/05 00:00" opacity={1} stroke="white" strokeDasharray="3 3"  >
                        </ReferenceLine>
                        <ReferenceLine x="08/05 23:00" opacity={1} stroke="white" strokeDasharray="3 3"  >
                        </ReferenceLine> */}

                    </LineChart>
                </ResponsiveContainer>
            </Box>
        </Box >
    );
}


export default SocialPriceChart; 